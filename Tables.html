<!-- Create database (if needed) -->
CREATE DATABASE IF NOT EXISTS medicare_system;
USE medicare_system;

<!-- Create users table (common fields for both patients and doctors) -->
CREATE TABLE users (
    user_id INT AUTO_INCREMENT PRIMARY KEY,
    email VARCHAR(100) NOT NULL UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    full_name VARCHAR(100) NOT NULL,
    phone_number VARCHAR(20) NOT NULL,
    user_type ENUM('patient', 'doctor') NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

<!-- Create doctors table (additional doctor-specific fields) -->
CREATE TABLE doctors (
    doctor_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    specialty VARCHAR(50) NOT NULL,
    license_number VARCHAR(50) NOT NULL UNIQUE,
    FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE
);

<!-- Create patients table (additional patient-specific fields if needed) -->
CREATE TABLE patients (
    patient_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    -- Add any patient-specific fields here in the future
    FOREIGN KEY (user_id) REFERENCES users(user_id) ON DELETE CASCADE
);

<!-- Create indexes for better performance -->
CREATE INDEX idx_user_type ON users(user_type);
CREATE INDEX idx_doctor_specialty ON doctors(specialty);